<mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:hello="http://www.mulesoft.org/schema/mule/hello"
      xmlns:munit="http://www.mulesoft.org/schema/mule/munit"
      xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
      xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
      http://www.mulesoft.org/schema/mule/munit-tools http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd
      http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
          http://www.mulesoft.org/schema/mule/hello http://www.mulesoft.org/schema/mule/hello/current/mule-hello.xsd">

  <hello:config name="config" configId="configId">
    <hello:connection requiredParameter="aValue" />
  </hello:config>

  <munit:config name="hello-operations-test"/>

  <munit:test name="sayHiTest">
    <munit:execution>
      <hello:say-hi person="Your Name"/>
    </munit:execution>
    <munit:validation>
      <munit-tools:assert-equals actual="#[payload]" expected="#['Hello Your Name!!!']"/>
    </munit:validation>
  </munit:test>

  <munit:test name="retrieveInfoTest">
    <munit:execution>
      <hello:retrieve-info config-ref="config"/>
    </munit:execution>
    <munit:validation>
      <munit-tools:assert-equals actual="#[payload]" expected="#['Using Configuration [configId] with Connection id [aValue:100]']"/>
    </munit:validation>
  </munit:test>

</mule>